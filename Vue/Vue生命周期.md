# Vue生命周期

## 创建阶段

### beforeCreate

Init events & lifecycle

实例在内存中被创建出来，此时还没初始化 data 和 methods 属性

### created

Init injections & reactivity

实例已经在内存中创建完成，此时 data 和 methods已经创建完成，此时 $data 已经完成了初始化, 但是模板还没开始编译，$el也没有完成初始化。

此时还不能获取 DOM 节点。

此阶段 **最早获取 data 中数据**、**最早发送 ajax 请求数据的阶段**

如果在 `created()` 钩子进行DOM操作，要放在 `nextTick()` 的回调函数中。因为在created()钩子函数中，页面的DOM还未渲染，这时候也没办法操作DOM，所以，此时如果想要操作DOM，必须将操作的代码放在`nextTick()`的回调函数中。

## 挂载阶段

### beforeMount

在此阶段已经完成了模板的编译，但是还没有 渲染到页面中

此阶段是 **最早获取 $el 的阶段**

猜想：因为编译了模版，所以在这个阶段开始创建子组件。并先执行子组件的mounted再执行父组件的mounted。

### Mounted

此阶段已经完成了页面的渲染，把相应的模板挂载到指定的区域中显示

此阶段是 **最早获取 $refs** 的阶段 (**最早获取 DOM 节点** )

在 vue2.x 中使用 rel 属性获取, 在 $refs 中存储了这些拥有 rel属性 的标签

## 更新阶段

### beforeUpdate

发生在更新之前，也就是响应式数据发生更新，虚拟dom重新渲染之前被触发，你可以在当前阶段进行更改数据，不会造成重新渲染,但会再次触发当前钩子函数。

数据已经更新，但是DOM还没更新渲染到页面上。

### Updated

发生在更新完成之后，此时 Dom 已经更新。现在可以执行依赖于 DOM 的操作。然而在大多数情况下，你应该避免在此期间更改状态。如果要相应状态改变，最好使用计算属性或 watcher 取而代之。最好不要在此期间更改数据，因为这可能会导致无限循环的更新。

## 销毁阶段

### beforeDestroy

Vue实例从运行阶段进入到了销毁阶段，这个时候上所有的 data 和 methods ， 指令， 过滤器 ……都是处于可用状态。还没有真正被销毁。

发生在实例销毁之前，在这期间实例完全可以被使用，我们可以在这时进行善后收尾工作，比如清除计时器。

### destroyed

发生在实例销毁之后，这个时候只剩下了dom空壳。组件已被拆解，数据绑定被卸除，事件监听器被移除，所有子实例也统统被销毁。

